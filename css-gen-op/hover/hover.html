<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hover / Focus Trace Playground</title>
<style>
    :root {
        font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        background: #0f172a;
        color: #e2e8f0;
        --panel: rgba(15, 23, 42, 0.9);
        --accent: #38bdf8;
        --accent-strong: #0ea5e9;
        --card: #1e293b;
        --card-hover: #0ea5e922;
    }
    * {
        box-sizing: border-box;
    }
    body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: clamp(1rem, 4vw, 4rem);
        background: radial-gradient(circle at top, #172554, #020617 65%);
    }
    main {
        width: min(1100px, 100%);
        background: var(--panel);
        border-radius: 18px;
        padding: clamp(1.5rem, 4vw, 3rem);
        box-shadow: 0 40px 120px rgba(2, 6, 23, 0.8);
    }
    header {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
        gap: 1rem;
        margin-bottom: 2rem;
    }
    header h1 {
        margin: 0;
        font-size: clamp(1.8rem, 5vw, 2.5rem);
        letter-spacing: 0.05em;
    }
    header p {
        margin: 0;
        max-width: 520px;
        color: #94a3b8;
    }
    .playground {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 1.3rem;
    }
    .card {
        position: relative;
        padding: 1.5rem;
        border-radius: 16px;
        background: var(--card);
        border: 1px solid rgba(148, 163, 184, 0.2);
        min-height: 180px;
        transition: border-color 140ms ease, transform 200ms ease, box-shadow 200ms ease;
    }
    .card:hover {
        border-color: var(--accent);
        transform: translateY(-4px) scale(1.01);
        box-shadow: 0 10px 25px rgba(56, 189, 248, 0.25);
    }
    .card :where(h2, p) { margin: 0; }
    .card h2 {
        font-size: 1.2rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #bae6fd;
    }
    .card p {
        margin-top: 0.7rem;
        color: #cbd5f5;
        line-height: 1.4;
    }
    .card .glow {
        position: absolute;
        inset: 1px;
        border-radius: 16px;
        background: radial-gradient(circle at top, rgba(56, 189, 248, 0.35), transparent 60%);
        opacity: 0;
        transition: opacity 200ms ease;
        pointer-events: none;
    }
    .card:hover .glow,
    .card:focus-within .glow {
        opacity: 1;
    }

    /* Focus + hover combos */
    .input-card form {
        margin-top: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
    }
    .input-card label {
        font-size: 0.95rem;
        color: #a5b4fc;
    }
    .input-card input,
    .input-card button {
        border: 1px solid rgba(148, 163, 184, 0.4);
        border-radius: 12px;
        padding: 0.75rem 1rem;
        font: inherit;
        background: rgba(15, 23, 42, 0.55);
        color: inherit;
        transition: border-color 140ms ease, box-shadow 140ms ease;
    }
    .input-card input:focus-visible {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.35);
    }
    .input-card button {
        cursor: pointer;
        border-color: var(--accent-strong);
        background: linear-gradient(135deg, rgba(14, 165, 233, 0.35), rgba(56, 189, 248, 0.25));
    }
    .input-card button:hover {
        border-color: #7dd3fc;
        background: linear-gradient(135deg, rgba(14, 165, 233, 0.6), rgba(56, 189, 248, 0.35));
        box-shadow: 0 10px 22px rgba(14, 165, 233, 0.3);
    }

    .gallery {
        display: grid;
        grid-template-columns: repeat(3, minmax(40px, 1fr));
        gap: 0.6rem;
        margin-top: 1rem;
    }
    .gallery button {
        aspect-ratio: 1 / 1;
        border-radius: 12px;
        border: 1px solid rgba(148, 163, 184, 0.3);
        background: rgba(15, 23, 42, 0.4);
        color: #e0f2fe;
        font-size: 1.1rem;
        cursor: pointer;
        transition: transform 120ms ease, border-color 120ms ease, box-shadow 120ms ease;
    }
    .gallery button:hover {
        transform: translateY(-2px);
        border-color: var(--accent);
        box-shadow: 0 6px 15px rgba(56, 189, 248, 0.2);
    }
    .gallery button:focus-visible {
        outline: none;
        border-color: var(--accent);
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.3);
    }

    .canvas-card canvas {
        width: 100%;
        height: 140px;
        border-radius: 12px;
        margin-top: 1rem;
        border: 1px dashed rgba(148, 163, 184, 0.4);
        background: rgba(15, 23, 42, 0.5);
        cursor: crosshair;
    }
    .log {
        margin-top: 2rem;
        background: rgba(15, 23, 42, 0.7);
        border-radius: 12px;
        padding: 1rem;
        font-size: 0.9rem;
        max-height: 180px;
        overflow-y: auto;
        border: 1px solid rgba(148, 163, 184, 0.2);
    }
    .log strong { color: var(--accent); }
</style>
</head>
<body>
<main>
    <header>
        <div>
            <h1>Trace-Friendly Hover Playground</h1>
            <p>Move your mouse, focus inputs, and click the gallery buttons. The layout uses <code>:hover</code>, <code>:focus</code>, and <code>:focus-within</code> selectors everywhere, so your tracing pipeline will emit attribute changes that should surface miss-count differences.</p>
        </div>
        <div>
            <p><strong>Tip:</strong> keep the pointer moving between cards before recording the trace so the DOM stays in a hovered state.</p>
        </div>
    </header>

    <section class="playground">
        <article class="card input-card">
            <span class="glow"></span>
            <h2>Newsletter</h2>
            <p>Focus the email field or hover the button to trigger pseudo-class styling.</p>
            <form>
                <label for="email">Your email</label>
                <input id="email" type="email" placeholder="name@example.com" />
                <button type="button">Join Waitlist</button>
            </form>
        </article>

        <article class="card canvas-card">
            <span class="glow"></span>
            <h2>Hover Canvas</h2>
            <p>Draw by moving the cursor inside the canvas; each move logs the coordinates.</p>
            <canvas id="paint-board" width="320" height="120"></canvas>
        </article>

        <article class="card gallery-card">
            <span class="glow"></span>
            <h2>Icon Grid</h2>
            <p>Hover or focus each tile. Your trace will include numerous hover states.</p>
            <div class="gallery">
                <button>△</button>
                <button>○</button>
                <button>◆</button>
                <button>★</button>
                <button>☀</button>
                <button>✿</button>
                <button>♬</button>
                <button>☯</button>
                <button>∞</button>
            </div>
        </article>

        <article class="card">
            <span class="glow"></span>
            <h2>Focus Within</h2>
            <p>Click inside the box; <code>:focus-within</code> styles will activate.</p>
            <div style="margin-top:1rem; border:1px dashed rgba(148,163,184,0.4); border-radius:12px; padding:1rem; display:flex; gap:0.5rem; align-items:center;" class="focus-box">
                <input type="text" placeholder="Type something..." style="flex:1; background:transparent; border:none; color:inherit;" />
                <button type="button" style="border-radius:10px; border:1px solid rgba(148,163,184,0.4); padding:0.4rem 0.9rem; background:rgba(56,189,248,0.15); color:inherit; cursor:pointer;">Send</button>
            </div>
        </article>
    </section>

    <div class="log" id="log"></div>
</main>

<script>
const logEl = document.getElementById('log');
const board = document.getElementById('paint-board');
const ctx = board.getContext('2d');
ctx.strokeStyle = '#38bdf8';
ctx.lineWidth = 2;
let drawing = false;

function appendLog(message) {
    const now = new Date().toLocaleTimeString();
    logEl.innerHTML = `<div><strong>${now}</strong> — ${message}</div>` + logEl.innerHTML;
}

board.addEventListener('pointerdown', (event) => {
    drawing = true;
    ctx.beginPath();
    ctx.moveTo(event.offsetX, event.offsetY);
    appendLog('Pointer down on canvas');
});

board.addEventListener('pointerup', () => {
    drawing = false;
    appendLog('Pointer lifted');
});

board.addEventListener('pointerleave', () => {
    drawing = false;
    appendLog('Pointer left canvas');
});

board.addEventListener('pointermove', (event) => {
    if (!drawing) return;
    ctx.lineTo(event.offsetX, event.offsetY);
    ctx.stroke();
    appendLog(`Drawn to (${Math.round(event.offsetX)}, ${Math.round(event.offsetY)})`);
});

const galleryButtons = document.querySelectorAll('.gallery button');
galleryButtons.forEach((btn) => {
    btn.addEventListener('mouseenter', () => appendLog(`Hover ${btn.textContent}`));
    btn.addEventListener('focus', () => appendLog(`Focus ${btn.textContent}`));
});

const inputs = document.querySelectorAll('input, button');
inputs.forEach((el) => {
    el.addEventListener('focus', () => appendLog(`Focus on ${el.tagName.toLowerCase()}`));
});
</script>
</body>
</html>
